<template>
    <div>
        {{num}}
    </div>
    <div v-if="comShow">
        ç»„ä»¶
    </div>
</template>
<script>
// *************************ç”Ÿå‘½å‘¨æœŸå‡½æ•°***************************
import {
    onBeforeMount,
    onMounted,
    onBeforeUpdate,
    onUpdated,
    onBeforeUnmount,
    onUnmounted,
    ref
} from 'vue'
export default {
    setup(){
        console.log('setup');
        onBeforeMount(() => {
            console.log('onBeforeMount','åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨')
        });
        onMounted(() => {
            numAutoAdd()
            changeComShow()
            console.log('onMounted','ç»„ä»¶æŒ‚è½½æ—¶è°ƒç”¨')
        });

        onBeforeUpdate(() => {
            console.log('onBeforeUpdate','æ•°æ®æ›´æ–°æ—¶è°ƒç”¨')
        });
        onUpdated(() => {
            console.log('onUpdated','æ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹ŸDOMé‡æ–°æ¸²æŸ“ï¼Œåœ¨è¿™ä¹‹åŽä¼šè°ƒç”¨è¯¥é’©å­')
        });

        onBeforeUnmount(() => {
            console.log('onBeforeUnmount','åœ¨å¸è½½ç»„ä»¶å®žä¾‹ä¹‹å‰è°ƒç”¨')
        });
        onUnmounted(() => {
            console.log('onUnmounted','å¸è½½ç»„ä»¶å®žä¾‹åŽè°ƒç”¨')
        });


        const num = ref(0)

        const numAutoAdd = ()=>{
            setInterval(() => {
                num.value++
            }, 5000);
        }

        const comShow = ref(true)

        const changeComShow = ()=>{
            // ä¸€å®šè¦æ˜¯å¸è½½ç»„ä»¶å®žä¾‹åŽæ‰è°ƒç”¨onBeforeUnmountï¼ŒonUnmountedï¼ŒðŸ‘‡ä¸è¡Œï¼Œå› ä¸ºä¿®æ”¹æ•°æ®ä¸æŽ§åˆ¶ç»„ä»¶
            setInterval(() => {
                comShow.value = false
            }, 5000);
        }




        return {num,numAutoAdd,comShow,changeComShow}
    }
}
</script>
<style lang="">
    
</style>